<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在籍者管理 | 残業報告Bot</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="nav.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>👥 在籍者管理</h1>
        </header>

        <nav class="main-nav">
            <a href="/" class="nav-btn">📝 残業報告</a>
            <a href="/cbo-verify.html" class="nav-btn">📊 CBO検証</a>
            <a href="/admin.html" class="nav-btn active">👥 管理画面</a>
        </nav>

        <!-- 設定セクション -->
        <section class="settings-section">
            <h2>⚙️ システム設定</h2>
            <div class="setting-item">
                <div class="setting-info">
                    <span class="setting-label">LINE通知</span>
                    <span class="setting-desc">新しい残業報告があった時にLINEグループへ通知を送る</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span
                        style="background: #10b981; color: white; padding: 4px 12px; border-radius: 16px; font-size: 0.875em; font-weight: 500;">✓
                        常時有効</span>
                </div>
            </div>
        </section>

        <!-- 新規追加フォーム -->
        <section class="add-section">
            <h2>➕ 新規社員追加</h2>
            <form id="addForm" class="form-card">
                <div class="form-group">
                    <label for="name">名前 *</label>
                    <input type="text" id="name" required placeholder="例: 田中 太郎">
                </div>
                <div class="form-group">
                    <label for="cboName">CBOでの名前 *</label>
                    <input type="text" id="cboName" required placeholder="例: 田中 太郎 023">
                    <small>CBOのCSVに表示される名前（番号付き）を入力してください</small>
                </div>
                <div class="form-group">
                    <label for="department">所属 *</label>
                    <select id="department" required>
                        <option value="">選択してください</option>
                        <option value="factory">工場</option>
                        <option value="management">管理</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">追加</button>
            </form>
        </section>

        <!-- 在籍者一覧 -->
        <section class="list-section">
            <div class="section-header">
                <h2>📋 在籍者一覧</h2>
                <div class="filter-controls">
                    <label>
                        <input type="checkbox" id="showInactive">
                        退職者も表示
                    </label>
                </div>
            </div>

            <!-- 工場チーム -->
            <div class="team-section">
                <h3>🏭 工場チーム</h3>
                <div id="factoryList" class="employee-grid"></div>
            </div>

            <!-- 管理チーム -->
            <div class="team-section">
                <h3>🏢 管理チーム</h3>
                <div id="managementList" class="employee-grid"></div>
            </div>
        </section>
        <footer class="footer">
            <p>© 2025 tatesin夜勤残業報告</p>
        </footer>
    </div>

    <!-- 編集モーダル -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>✏️ 社員情報編集</h3>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <form id="editForm">
                <input type="hidden" id="editId">
                <div class="form-group">
                    <label for="editName">名前 *</label>
                    <input type="text" id="editName" required>
                </div>
                <div class="form-group">
                    <label for="editCboName">CBOでの名前 *</label>
                    <input type="text" id="editCboName" required>
                </div>
                <div class="form-group">
                    <label for="editDepartment">所属 *</label>
                    <select id="editDepartment" required>
                        <option value="factory">工場</option>
                        <option value="management">管理</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">キャンセル</button>
                    <button type="submit" class="btn btn-primary">保存</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
    <script src="drag-drop.js"></script>
</body>

</html>